<html>
    <head>
        <script type="text/javascript" src="js/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="js/mqtt.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
    </head>
    <body>
        <h1>REST/MQTT test</h1>

        <table style="width: 100%;" border="1">
            <tr>
                <td style="width: 50%;">
                    events for user 1234<br />
                    <pre id="events-dms/testpopp-1234" style="height: 250px; overflow-y: scroll;"></pre>
                    <br />
                    <hr />

                    events for user 66033<br />
                    <pre id="events-66033" style="height: 250px; overflow-y: scroll;"></pre>
                </td>
                <td style="vertical-align: top;">
                    <div id="rest">
                        <!-- SEND MESSAGE -->
                        <label for="sender">
                            sender: <input type="text" id="sender" value="33066"/>
                        </label>
                        <br />
                        <label for="receiver">
                            receiver: <input type="text" id="receiver" value="66033" />
                        </label>
                        <br />
                        <label for="message_type">
                            message type: <input type="text" id="message_type" value="0" />
                        </label>
                        <br />
                        <label for="message_payload">
                            <textarea id="message_payload">some text here</textarea>
                        </label>
                        <br />
                        <input type="button" id="send-msg" value="send message">
                        <br />
                        <br />
                        <!-- //-->


                        <!-- SEND MQTT EVENT -->
                        <label for="receiver">
                            receiver: <input type="text" id="mqtt_receiver" value="1234" />
                        </label>
                        <br />
                        <label for="message_payload">
                            <textarea id="mqtt_payload">some text here</textarea>
                        </label>
                        <br />
                        <input type="button" id="send-mqtt" value="send to mqtt">
                        <br />
                        <br />
                        <!-- //-->


                        <!-- UPDATE ATTACHMENT -->
                        <label for="message_id">
                            message id: <input type="text" id="message_id" value="" />
                        </label>
                        <br />
                        <label for="file_id">
                            file id: <input type="text" id="file_id" value="" />
                        </label>
                        <br />
                        <label for="created_at">
                            created at: <input type="text" id="created_at" value="" />
                        </label>
                        <br />
                        <input type="button" id="update-attachment" value="update attachment">
                        <br /><br />
                        <!-- //-->


                        <!-- VIEW ATTACHMENT -->
                        <label for="get_file_id">
                            file id: <input type="text" id="get_file_id" value="" />
                        </label>
                        <br />
                        <label for="group_id">
                            group id: <input type="text" id="group_id" value="" />
                        </label>
                        <br />
                        <input type="button" id="get-attachment" value="get attachment info">
                        <br />
                        <br />
                        <!-- //-->
                    </div>
                    <br />

                    <div style="width: 500px; overflow-wrap: break-word;">
                        attachment: <pre id="attachment"></pre>
                    </div>
                </td>
            </tr>
            <tr>
                <td style="vertical-align: top;">
                    <span><a href="#" id="next">load older messages</a></span>
                    <pre id="history" style="height: 350px; overflow-y: scroll;"></pre>
                </td>
                <td style="vertical-align: top;">
                    <span>groups</span>

                    <label for="until">
                        <input id="until" style="display: none;" />
                    </label>
                    <label for="current_group">
                        <input id="current_group" style="display: none;" />
                    </label>
                    <div id="groups"></div>
                </td>
            </tr>
        </table>
    </body>
</html>
